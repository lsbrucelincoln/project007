<div class="companyInfoManagement admin_content_innerBox" id="riskManagementDetail">
    <div class="admin_scrollBox">
        <div class="minibar">
            <i class="flaticon-arrows-4"></i><span>当前位置：首页 > 业务操作 > 隐患跟踪 > <span class="nowPlace">详细信息</span></span>
        </div>
        <div class="contentBody">
            <div class="textInfo" style="border-bottom: 1px solid #ddd;margin-bottom: 20px;">
                <div class="inputShort">
                    <span>隐患编号：</span>
                    <i>NB01020120160809001</i>
                </div>
                <div class="inputShort">
                    <span>企业类型：</span>
                    <i>港口服务企业</i>
                </div>
                <div class="inputShort">
                    <span>企业对象：</span>
                    <i>{{taskDetail.taskDetail.company.name}}</i>
                </div>
                <div class="inputShort">
                    <span>隐患等级：</span>
                    <i>{{taskDetail.safeRule.safetyLevel}}</i>
                </div>
                <div class="inputShort">
                    <span>登记时间：</span>
                    <i>{{startTime}}</i>
                </div>
                <div class="inputShort">
                    <span>当前状态：</span>
                    <i>未整改</i>
                </div>
            </div>
            <table class="tem_headTable">
                <tbody>
                    <tr>
                        <th style="width: 120px;">评估机构：</th>
                        <td>{{taskDetail.user.region.name}}</td>
                        <th>登记人：</th>
                        <td>
                            <label for="djr_by1">
                                <input id="djr_by1" type="radio" name="djr"> {{taskDetail.user.name}}
                            </label>
                        </td>
                        <th>评估编号：</th>
                        <td>{{taskDetail.taskDetail.code}}</td>
                    </tr>
                    <tr>
                        <th>评估标准：</th>
                        <td colspan="5">{{taskDetail.safeRule.category1}} > {{taskDetail.safeRule.category2}} > {{taskDetail.safeRule.text}}</td>
                    </tr>
                    <tr>
                        <th>补充描述：</th>
                        <td colspan="5">缺失</td>
                    </tr>
                    <tr>
                        <th>执行依据：</th>
                        <td colspan="5">《港口法》第二十二条 《港口经营管理规定》第六条、第十二条 《港口安全危险货物安全管理规定》第十七条、第二十条</td>
                    </tr>
                    <tr>
                        <th>处置方式：</th>
                        <td>{{taskDetail.safeRule.punishment}}</td>
                        <th>整改期限：</th>
                        <td>
                            {{excuteTime}}
                        </td>
                        <th>附件：</th>
                        <td><a class="admin_ui_link">查看</a></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div style="text-align: center;margin-top: 20px;margin-bottom: 20px;">
    <div class="allSelectBtn normalBtn" style="margin-top:15px">确认</div>
    <div class="urgeBtn normalBtn" style="margin-top:15px">删除</div>
</div>
<script>
var vm = new Vue({
    el: "#riskManagementDetail",
    data: {
        taskDetail: JSON.parse(localStorage.getItem("riskDetail"))
    },
    computed: {
        excuteTime: function() {
            return this.stamp2time(this.taskDetail.deadline);
        },
        startTime:function(){
            return this.stamp2time(this.taskDetail.in_time);
        }
    },
    methods: {
        stamp2time: function(stamp) {
            var time = new Date(stamp);
            var year = time.getFullYear();
            var month = time.getMonth() - 0 + 1;
            var hours = time.getHours();
            var minutes = time.getMinutes();
            month = month < 10 ? "0" + month : month;
            var day = time.getDate();
            day = day < 10 ? "0" + day : day;
            hours = hours < 10 ? "0" + hours : hours;
            minutes = minutes < 10 ? "0" + minutes : minutes;
            var timeString = '';
            return year + "-" + month + "-" + day;
        },
        unique: function(arr) {
            var result = [],
                hash = {};
            for (var i = 0, elem;
                (elem = arr[i]) != null; i++) {
                if (!hash[elem]) {
                    result.push(elem);
                    hash[elem] = true;
                }
            }
            return result.reverse();
        },
    },
    created: function() {

    },
    ready: function() {}
})
</script>
